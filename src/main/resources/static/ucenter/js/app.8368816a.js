(function(t){function e(e){for(var s,a,o=e[0],c=e[1],l=e[2],m=0,f=[];m<o.length;m++)a=o[m],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(s=!1)}s&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},i={app:0},r=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/ucenter/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00b1":function(t,e,n){},"034f":function(t,e,n){"use strict";n("85ec")},"0f9a":function(t,e,n){"use strict";n.r(e);n("b0c0"),n("d3b7"),n("498a");var s=n("bc3a"),i=n.n(s),r=n("4360"),a=n("5c96"),o=n("5f87"),c=i.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/ucenter/"}).VUE_APP_BASE_API,timeout:1e5,headers:{"Content-Type":"application/json"}});c.interceptors.request.use((function(t){return r["a"].getters.token&&(t.headers["token"]=Object(o["a"])(),t.headers["user_id"]=Object(o["b"])()),console.log(t),t}),(function(t){return console.log(t),Promise.reject(t)})),c.interceptors.response.use((function(t){var e=t.data;if(0===e.code)return e;Object(a["Message"])({message:e.message||"Error",type:"error",duration:5e3}),50008!==e.code&&50012!==e.code&&50014!==e.code||console.log("error")}),(function(t){return console.log("err"+t),Promise.reject(t)}));var l=c;function u(t){return l({url:"/api/user/login",method:"post",data:t})}function m(){return l({url:"/api/user/logout",method:"post"})}function f(t){return l({url:"/api/user/register",method:"post",data:t})}var d=n("41cb"),g={token:Object(o["a"])(),userid:"",name:"",avatar:"",introduction:"",roles:[]},p={SET_TOKEN:function(t,e){t.token=e},SET_INTRODUCTION:function(t,e){t.introduction=e},SET_NAME:function(t,e){t.name=e},SET_AVATAR:function(t,e){t.avatar=e},SET_ROLES:function(t,e){t.roles=e},SET_USER_ID:function(t,e){t.userid=e}},b={login:function(t,e){var n=t.commit,s=e.username,i=e.password;return new Promise((function(t,e){u({username:s.trim(),password:i}).then((function(e){var s=e.result,i=s.token,r=s.user_id;n("SET_TOKEN",i),n("SET_USER_ID",r),Object(o["d"])(i),Object(o["e"])(r),console.log(Object(o["a"])()),t()})).catch((function(t){e(t)}))}))},register:function(t,e){var n=t.state,s=e.username,i=e.password;return new Promise((function(t,e){f({username:s.trim(),password:i}).then((function(){console.log(n),t()})).catch((function(t){e(t)}))}))},logout:function(t){var e=t.commit,n=t.state;return new Promise((function(t,s){m({user_id:n.userid,token:n.token}).then((function(){e("SET_TOKEN",""),e("SET_ROLES",[]),e("SET_USER_ID",""),Object(o["c"])(),Object(d["b"])(),t()})).catch((function(t){e("SET_TOKEN",""),e("SET_ROLES",[]),e("SET_USER_ID",""),Object(o["c"])(),s(t)}))}))}};e["default"]={namespaced:!0,state:g,mutations:p,actions:b}},3339:function(t,e,n){"use strict";n("3a4c")},"3a4c":function(t,e,n){},"41cb":function(t,e,n){"use strict";n.d(e,"b",(function(){return I}));n("c975"),n("96cf");var s=n("1da1"),i=n("2b0e"),r=n("8c4f"),a=n("5f87"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-content"},[t.isSuccess?[t._m(0),n("div",{staticClass:"main-item"},[n("div",{staticClass:"form-group"},[n("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"80px",model:t.loginForm}},[n("el-form-item",{staticClass:"label",attrs:{label:"用户名"}},[n("el-input",{model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),n("router-link",{staticClass:"p-bank",attrs:{to:"/reset"}},[t._v("忘记密码")])],1),n("el-form-item",[t.isLoading?n("button",{staticClass:"btn loading",attrs:{disabled:""}},[n("i",{staticClass:"el-icon-loading"}),t._v(" 提交中")]):n("button",{staticClass:"btn",on:{click:t.handleLogin}},[t._v("登录")])])],1)],1)])]:[t._m(1)]],2)},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-item"},[n("img",{staticClass:"main-item-img",attrs:{src:"/ucenter/image/login.png",alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"success-card"},[n("img",{staticClass:"success-img",attrs:{src:"/ucenter/image/sign-s.png",alt:""}}),n("p",{staticClass:"success-card-p"},[t._v("注册成功，尊敬的用户：xxxx@sfsf.com")]),n("button",{staticClass:"default-btn"},[t._v("去登录")])])}],l={data:function(){return{loginForm:{username:"admin",password:"nxtframework.com"},labelPosition:"top",isSuccess:!0,isLoading:!1}},created:function(){console.log(this.$store.getters.token)},methods:{handleLogin:function(){var t=this;this.isLoading=!0,this.$store.dispatch("user/login",this.loginForm).then((function(){t.$message({message:"登陆成功！",type:"success"}),t.isLoading=!1,t.$router.push({path:"/"})})).catch((function(){t.isLoading=!1}))}}},u=l,m=(n("fed9"),n("2877")),f=Object(m["a"])(u,o,c,!1,null,"1cbc0acb",null),d=f.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-content"},[t.isSuccess?[n("div",{staticClass:"main-item"},[n("div",{staticClass:"form-group"},[n("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"80px",model:t.loginForm}},[n("el-form-item",{staticClass:"label",attrs:{label:"用户名","label-width":"100px"}},[n("el-input",{model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),n("el-form-item",{staticClass:"label",attrs:{label:"密码","label-width":"100px"}},[n("el-input",{attrs:{type:"password"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),n("el-form-item",{attrs:{label:"确认新密码","label-width":"100px"}},[n("el-input",{attrs:{type:"password"},model:{value:t.loginForm.passwords,callback:function(e){t.$set(t.loginForm,"passwords",e)},expression:"loginForm.passwords"}})],1),n("el-form-item",[t.isLoading?n("button",{staticClass:"btn loading",attrs:{disabled:""}},[n("i",{staticClass:"el-icon-loading"}),t._v(" 提交中")]):n("button",{staticClass:"btn",on:{click:t.handleSign}},[t._v("登录")])])],1)],1)]),t._m(0)]:[n("div",{staticClass:"success-card"},[n("img",{staticClass:"success-img",attrs:{src:"/ucenter/image/sign-s.png",alt:""}}),n("p",{staticClass:"success-card-p"},[t._v("注册成功，尊敬的用户："+t._s(t.loginForm.username))]),n("button",{staticClass:"default-btn",on:{click:t.goLogin}},[t._v("去登录")])])]],2)},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-item"},[n("img",{staticClass:"main-item-img",attrs:{src:"/ucenter/image/sign.png",alt:""}})])}],b={data:function(){return{loginForm:{username:"",password:"",passwords:""},labelPosition:"right",formLabelAlign:{name:"",region:"",type:""},isSuccess:!0,isLoading:!1}},created:function(){console.log(this.$store.getters.token)},methods:{handleSign:function(){var t=this;this.isLoading=!0,this.$store.dispatch("user/register",this.loginForm).then((function(){t.$message({message:"注册成功！",type:"success"}),t.isLoading=!1,t.isSuccess=!1})).catch((function(){t.isLoading=!1}))},goLogin:function(){this.$router.push({path:"/login"})}}},v=b,h=(n("9014"),Object(m["a"])(v,g,p,!1,null,"ae2bf228",null)),C=h.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-content"},[t.isSuccess?[n("div",{staticClass:"main-item"},[n("div",{staticClass:"form-group"},[n("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"80px",model:t.formLabelAlign}},[n("el-form-item",{staticClass:"label",attrs:{label:"用户名","label-width":"100px"}},[n("el-input",{model:{value:t.formLabelAlign.name,callback:function(e){t.$set(t.formLabelAlign,"name",e)},expression:"formLabelAlign.name"}})],1),n("el-form-item",{staticClass:"label",attrs:{label:"验证码","label-width":"100px"}},[n("el-input",{staticStyle:{width:"220px"},model:{value:t.formLabelAlign.name,callback:function(e){t.$set(t.formLabelAlign,"name",e)},expression:"formLabelAlign.name"}}),n("button",{staticClass:"btn"},[t._v("获取验证码")])],1),n("el-form-item",{staticClass:"label",attrs:{label:"密码","label-width":"100px"}},[n("el-input",{model:{value:t.formLabelAlign.region,callback:function(e){t.$set(t.formLabelAlign,"region",e)},expression:"formLabelAlign.region"}})],1),n("el-form-item",{attrs:{label:"确认新密码","label-width":"100px"}},[n("el-input",{model:{value:t.formLabelAlign.region,callback:function(e){t.$set(t.formLabelAlign,"region",e)},expression:"formLabelAlign.region"}})],1),n("el-form-item",[n("button",{staticClass:"btn"},[t._v("登录")])])],1)],1)]),t._m(0)]:[n("div",{staticClass:"success-card"},[n("img",{staticClass:"success-img",attrs:{src:"/ucenter/image/reset.png",alt:""}}),n("p",{staticClass:"success-card-p"},[t._v("现在,你可以用新密码进行登录")]),n("button",{staticClass:"default-btn",on:{click:t.goLogin}},[t._v("去登录")])])]],2)},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-item"},[n("img",{staticClass:"main-item-img",attrs:{src:"/ucenter/image/sign.png",alt:""}})])}],_={data:function(){return{loginForm:{username:"admin",password:"nxtframework.com"},labelPosition:"right",formLabelAlign:{name:"",region:"",type:""},isSuccess:!0}},created:function(){},methods:{goLogin:function(){this.$router.push({path:"/login"})}}},A=_,x=(n("71b8"),n("3339"),Object(m["a"])(A,w,E,!1,null,"af6abd14",null)),O=x.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("用户中心")])},j=[],L={},k=L,F=Object(m["a"])(k,S,j,!1,null,null,null),y=F.exports;i["default"].use(r["a"]);var U=[{path:"/login",component:d},{path:"/sign",component:C},{path:"/reset",component:O},{path:"/",component:y}],T=["/login","/reset","/sign"],R=function(){return new r["a"]({scrollBehavior:function(){return{y:0}},routes:U})},P=R();function I(){var t=R();P.matcher=t.matcher}P.beforeEach(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n,s){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=Object(a["a"])(),i?"/login"===e.path?s({path:"/"}):(console.log("ssss"),s()):-1!==T.indexOf(e.path)?s():s("/login?redirect=".concat(e.path));case 2:case"end":return t.stop()}}),t)})));return function(e,n,s){return t.apply(this,arguments)}}()),P.afterEach((function(){}));e["a"]=P},4360:function(t,e,n){"use strict";n("13d5"),n("d3b7"),n("ac1f"),n("5319"),n("ddb0");var s=n("2b0e"),i=n("2f62"),r=(n("b0c0"),{token:function(t){return t.user.token},avatar:function(t){return t.user.avatar},name:function(t){return t.user.name},userId:function(t){return t.user.userid},introduction:function(t){return t.user.introduction},roles:function(t){return t.user.roles}}),a=r;s["default"].use(i["a"]);var o=n("c653"),c=o.keys().reduce((function(t,e){var n=e.replace(/^\.\/(.*)\.\w+$/,"$1"),s=o(e);return t[n]=s.default,t}),{}),l=new i["a"].Store({modules:c,getters:a});e["a"]=l},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=n("41cb"),r=n("4360"),a=n("5c96"),o=n.n(a),c=(n("0fae"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("Header"),n("el-main",[n("router-view")],1),n("Footer")],1)}),l=[],u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("span",{staticClass:"logo-p"},[t._v("NxtFramework")]),s("el-menu",{staticClass:"el-menu-demo",staticStyle:{width:"100%"},attrs:{mode:"horizontal","text-color":"#1B1B1B"}},[s("el-menu-item",{attrs:{index:"1"}},[t._v("首页")]),s("el-menu-item",{attrs:{index:"2"}},[t._v("产品")]),s("el-menu-item",{attrs:{index:"3"}},[t._v("资讯")]),s("el-submenu",{attrs:{index:"4"}},[s("template",{slot:"title"},[t._v("关于")]),s("el-menu-item",{attrs:{index:"4-1"}},[t._v("选项1")]),s("el-menu-item",{attrs:{index:"4-2"}},[t._v("选项2")]),s("el-menu-item",{attrs:{index:"4-3"}},[t._v("选项3")])],2)],1),s("div",{staticClass:"right-card"},[s("img",{attrs:{src:n("c013"),alt:""}}),t.token?s("div",{staticClass:"right-item"},[s("a",{attrs:{href:"#"},on:{click:function(e){return t.handleLogout()}}},[t._v("注销")])]):s("div",{staticClass:"right-item"},[s("router-link",{attrs:{to:"/"}},[t._v("登录")]),t._v(" / "),s("router-link",{attrs:{to:"/sign"}},[t._v("注册")])],1)])],1)},m=[],f=n("5530"),d=n("2f62"),g={computed:Object(f["a"])({},Object(d["b"])(["token"])),methods:{handleLogout:function(){var t=this;this.$store.dispatch("user/logout",this.loginForm).then((function(){t.$message({message:"注销成功！",type:"success"}),t.$router.push({path:"/login"})})).catch((function(){t.$message({message:"注销失败！",type:"warning"})}))}}},p=g,b=(n("eb48"),n("2877")),v=Object(b["a"])(p,u,m,!1,null,"335591eb",null),h=v.exports,C=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("div",{staticClass:"footer-item",staticStyle:{"margin-bottom":"26px"}},[n("p",[t._v("联系我们")]),n("p",[t._v("关于我们")]),n("p",[t._v("条款声明")])]),n("div",{staticClass:"footer-item"},[n("p",[t._v("Copyright © 2020. NxtFramework.com All Rights Reserved.")])]),n("div",{staticClass:"footer-item"},[n("p",[t._v("备案号 88888888")])])])}],E={},_=E,A=(n("d21c"),Object(b["a"])(_,C,w,!1,null,"3eb90d05",null)),x=A.exports,O={name:"App",components:{Header:h,Footer:x}},S=O,j=(n("034f"),Object(b["a"])(S,c,l,!1,null,null,null)),L=j.exports;s["default"].use(o.a),s["default"].config.productionTip=!1,new s["default"]({router:i["a"],store:r["a"],render:function(t){return t(L)}}).$mount("#app")},"5f87":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return m}));var s=n("a78e"),i=n.n(s),r="token",a="user-id";function o(){return i.a.get(r)}function c(t){return i.a.set(r,t)}function l(){return i.a.remove(r)}function u(){return i.a.get(a)}function m(t){return i.a.set(a,t)}},"71b8":function(t,e,n){"use strict";n("b48f")},"85ec":function(t,e,n){},"86c0":function(t,e,n){},9014:function(t,e,n){"use strict";n("86c0")},b48f:function(t,e,n){},ba86:function(t,e,n){},c013:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABACAYAAABFqxrgAAAEf0lEQVR4Xu2aWwhURRjHfxKGiSEGpeiDd5IMTUUhJTLIRLy8hAZGvYigVt5Qy0sYQlYqaoqXh15CUdAgjDJJUR+iFG8QmOUFDIowJW9pIl7/ukfWbWZ3ZnZ2zwRn4LDL7nzz/3//882cb745LSgaLQoNKERQEBSRUIhwfzEoIqFChGeApxwWykPAZYd+/5suWSRsAcZ6sF4DvO3RP+muEmEpMCuA5cfA3AC75Ewkwl/AkwHMNCW6A2cDbJMykQhHgOcCWU0DVgXaJmMmET4AFgYy2gu8FGibjFm2MGpR1FVtWgy1sG4J3EjGowAiPnnCbcv4k4BfA7DzNPmznLOPCJ8Db+bJPDL2VmCcb8Y4CNgfmUjew90TwicSRPgS8HjezCPiy5+2viJ8BLwXkUTeQx0FnvUVoTNwOm/mEfE/BBb4iiD8X4CnDUSUM6TaTI/3q6Uk8USICO9YssR/gK7AuYSU6AT8buGzDpji+3TIxmoH/G0ZeCLwWUIiKNznWfg8D+wLFUF2uy3p8jfAqIREuAK0NvBR6eC17PeQ6SDbV4EvLM52AX5LQIjJwFoLj5HA9npFeKTKfmFOqUaRtw7HgZ4GEruAYeW/h0aCxtgIvG4A+QEYkrMCY4BtFg5K/TfEEuFlYKcFSHfgZI5C7AFMj0XVTvpX8qonEjSWbeFZDMzPSQQ5qWKwqU0HPo0twieA1oDK9jPQOycRbNNUi7UqaBdii1BtZ6kS/rEmC6EjgzMWzEW2Clq900F4tlVYYafwa2ZbAsw2ACqbVRScMpGJIcK7gMrvlU3Vm47NVACwVb+qnpPEEKFXlbDvC/zUJCFU+V5pwdK0PWDjEUMEja0d5IsGEGVsbzVIhEcB7WOy60ugvQFrMzC+GodYIthS1GvAYzVEUKXqiQqHyp3Lvmd9yj9d9B0B7GiGCJr7f1iAtJOTIyIf6oiLs6Y+3wHDaxnHigTh+B7q1uIW43+l9ZtqDRRTBAEqUUmlHQQGupCJKUKb0uFsKxfgJvR5AfjeBSemCMJTVWmCC3CdfVQqv1i6zpcqXap26btOw7QWOBeEY4swGvjKwcGbZU5kziinz75nn3Isu8qd/dcBw7lLbBEErNS0m4HBG4A2VuUO3nJm2sCOjRBhOTDDwPlrQJGSXGuECMocbWcQSoy0mUmqNUIEOXgY6GfwdCqwOikF6nyPcQCgy7ZTNL39ovKWy8IZUyc9JXRTrBu5kEjoU6omvxKTaRPGUsntfeDbSixfEWxHcE3wIRqEXszQewkPmo8IPYAT0ajkO1CH8jKcjwihL33m664ZfQUwM/vLRwRbLT9FJ2tx+hEYHCKCrX5nAlTFd30tJqX/Na7PzbANq2N2nzdzH2D6gPtEglMxw1Ek124+/IIjwWdNWGYpfbs6FNLPlq6bxgpeE3yeDg+tviEeBdgE8/OZDuLlkif85zkc4FCoSRA/XxFEzpYxWjOyUI8C7bz5hYiQccv2Dtdr5eaBztRr5syvHhHqJZmMfSFCpCQlmTsaSqSIhCIS7sdOEQl3VbgDXovAQR0jx2oAAAAASUVORK5CYII="},c653:function(t,e,n){var s={"./user.js":"0f9a"};function i(t){var e=r(t);return n(e)}function r(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="c653"},d21c:function(t,e,n){"use strict";n("f90b")},eb48:function(t,e,n){"use strict";n("00b1")},f90b:function(t,e,n){},fed9:function(t,e,n){"use strict";n("ba86")}});
//# sourceMappingURL=app.8368816a.js.map